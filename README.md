# DIAMANT

Простое веб-приложение интернет-магазина с авторизацией, каталогом товаров и корзиной.

## Структура проекта

- `backend/` - FastAPI бэкенд
- `frontend/` - Vue.js фронтенд

## Технологии

### Backend
- FastAPI
- SQLAlchemy
- PostgreSQL
- JWT авторизация

### Frontend
- Vue 3
- Vue Router
- Axios

## Запуск проекта

### 1. Настройка бэкенда

**ВАЖНО:** Перед запуском создайте файл `.env` в папке `backend/` на основе `backend/.env.example`:

```bash
cd backend
cp .env.example .env
```

Отредактируйте `.env` файл при необходимости (настройки БД, секретный ключ и т.д.).

### 2. Запуск бэкенда

```bash
cd backend
docker-compose up -d
```

Бэкенд будет доступен по адресу: http://localhost:8000

API документация: http://localhost:8000/docs

### 3. Запуск фронтенда

```bash
cd frontend
npm install
npm run dev
```

Фронтенд будет доступен по адресу: http://localhost:5173

## Функционал

### Для всех пользователей:
- Регистрация
- Авторизация
- Просмотр каталога товаров
- Фильтрация товаров по типу
- Добавление товаров в корзину
- Управление корзиной (изменение количества, удаление)

### Для администраторов:
- Все функции обычного пользователя
- Добавление новых товаров
- Редактирование товаров
- Удаление товаров

## Администраторский аккаунт

При первом запуске автоматически создается администраторский аккаунт с тестовыми данными:

- **Логин:** `admin`
- **Пароль:** `admin`

Используйте эти данные для входа в админ-панель.

## API эндпоинты

### Авторизация
- `POST /auth/register` - Регистрация
- `POST /auth/login` - Вход

### Пользователи
- `GET /users/me` - Получить текущего пользователя

### Товары
- `GET /products` - Список всех товаров
- `GET /products/{id}` - Получить товар по ID
- `POST /products` - Создать товар (требует авторизации)
- `PUT /products/{id}` - Обновить товар (требует авторизации)
- `DELETE /products/{id}` - Удалить товар (требует авторизации)

### Типы товаров
- `GET /product_types` - Список типов товаров
- `GET /product_types/{id}` - Получить тип по ID
